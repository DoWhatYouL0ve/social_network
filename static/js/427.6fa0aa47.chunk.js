"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[427],{4427:function(e,s,t){t.r(s),t.d(s,{default:function(){return T}});var r=t(8683),i=t(5671),a=t(3144),o=t(136),n=t(5716),u=t(2791),l={avaDescriptionWrapper:"ProfileInfo_avaDescriptionWrapper__WhcBl",changeAva:"ProfileInfo_changeAva__Nm7-r",fullName:"ProfileInfo_fullName__App6w",profileInfoBackground:"ProfileInfo_profileInfoBackground__90ZtQ",profileStatusWrapper:"ProfileInfo_profileStatusWrapper__Cwp3P"},p=t(8103),c=t(411),f=t(6547),d=t(885),h=t(184),m=function(e){var s=(0,u.useState)(!1),t=(0,d.Z)(s,2),r=t[0],i=t[1],a=(0,u.useState)(e.status),o=(0,d.Z)(a,2),n=o[0],p=o[1];(0,u.useEffect)((function(){p(e.status)}),[e.status]);return(0,h.jsxs)("div",{className:l.profileStatusWrapper,children:[!r&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){i(!0)},children:e.status||"no status"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{type:"text",value:n,onBlur:function(){i(!1),e.updateUserStatus(n)},autoFocus:!0,onChange:function(e){p(e.currentTarget.value)}})})]})},v=t(2134),x=function(e){if(!e.profile)return(0,h.jsx)(f.x,{});return(0,h.jsxs)("div",{className:l.profileWrapper,children:[(0,h.jsx)("div",{className:l.profileInfoBackground,children:(0,h.jsx)("img",{src:p,alt:""})}),(0,h.jsxs)("div",{className:l.avaDescriptionWrapper,children:[(0,h.jsx)("img",{src:e.profile.photos.large?e.profile.photos.large:c,alt:"no picture"}),e.isOwner&&(0,h.jsxs)("div",{style:{height:"0"},children:[(0,h.jsx)("label",{htmlFor:"changeAvaInput",className:l.changeAva,children:(0,h.jsx)(v.rJU,{})}),(0,h.jsx)("input",{id:"changeAvaInput",type:"file",onChange:function(s){null!=s&&s.target.files&&(console.log(s.target.files[0]),e.savePhoto(s.target.files[0]))}})]}),(0,h.jsx)("div",{className:l.fullName,children:e.profile.fullName}),(0,h.jsx)(m,{status:e.status,updateUserStatus:e.updateUserStatus})]})]})},j=t(1014),g="MyPosts_myPostWrapper__SKDbq",_="MyPosts_posts__hrhUY",P="Post_post__fVFb0",k="Post_likes__XCNpv",N="Post_profileMessage__gKRhz",S=function(e){return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:P,children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:c,alt:""})}),(0,h.jsx)("div",{className:N,children:e.message}),(0,h.jsxs)("div",{className:k,children:["Likes: ",e.likeCount]})]})})},b=t(6139),y=t(704),U=t(5298),w=t(1117),C=(0,U.D)(10),I=(0,y.Z)({form:"addMyPostForm"})((function(e){return(0,h.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(b.Z,{component:w.g,name:"newPostText",placeholder:"Enter your message",cols:40,rows:5,validate:[U.C,C]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),Z=u.memo((function(e){var s=e.posts.map((function(e){return(0,h.jsx)(S,{id:e.id,message:e.message,likeCount:e.likeCount},e.id)}));return(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)("div",{children:(0,h.jsx)(I,{onSubmit:function(s){e.addPost(s.newPostText)}})}),(0,h.jsx)("div",{className:_,children:s})]})})),W=t(2177),A=(0,W.$j)((function(e){return{posts:e.profilePage.posts,profile:e.profilePage.profile,status:e.profilePage.status}}),(function(e){return{addPost:function(s){e((0,j.Pi)(s))}}}))(Z),D="Profile_profileWrapper__L+xkM",M=function(e){return(0,h.jsxs)("div",{className:D,children:[(0,h.jsx)(x,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto}),(0,h.jsx)(A,{})]})},B=t(9723),F=t(7781),O=function(e){(0,o.Z)(t,e);var s=(0,n.Z)(t);function t(){return(0,i.Z)(this,t),s.apply(this,arguments)}return(0,a.Z)(t,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.id)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"render",value:function(){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(M,(0,r.Z)((0,r.Z)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto}))})}}]),t}(u.Component),T=(0,F.qC)((0,W.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,id:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:j.et,getUserStatus:j.Tq,updateUserStatus:j.OL,savePhoto:j.Ju}),B.EN)(O)},411:function(e,s,t){e.exports=t.p+"static/media/ava.9a8a2bcd8fd92bb61fe2.jpg"},8103:function(e,s,t){e.exports=t.p+"static/media/beach.e01c9e22ee81c5ce7924.jpg"}}]);
//# sourceMappingURL=427.6fa0aa47.chunk.js.map