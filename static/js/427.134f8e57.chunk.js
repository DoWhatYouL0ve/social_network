"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[427],{4427:function(s,e,t){t.r(e),t.d(e,{default:function(){return T}});var r=t(8683),i=t(5671),a=t(3144),o=t(136),n=t(5716),u=t(2791),p={avaDescriptionWrapper:"ProfileInfo_avaDescriptionWrapper__WhcBl",fullName:"ProfileInfo_fullName__App6w",profileInfoBackground:"ProfileInfo_profileInfoBackground__90ZtQ",profileStatusWrapper:"ProfileInfo_profileStatusWrapper__Cwp3P"},l=t(8103),c=t(411),d=t(6547),f=t(885),h=t(184),m=function(s){var e=(0,u.useState)(!1),t=(0,f.Z)(e,2),r=t[0],i=t[1],a=(0,u.useState)(s.status),o=(0,f.Z)(a,2),n=o[0],l=o[1];(0,u.useEffect)((function(){l(s.status)}),[s.status]);return(0,h.jsxs)("div",{className:p.profileStatusWrapper,children:[!r&&(0,h.jsx)("div",{children:(0,h.jsx)("span",{onDoubleClick:function(){i(!0)},children:s.status||"no status"})}),r&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{type:"text",value:n,onBlur:function(){i(!1),s.updateUserStatus(n)},autoFocus:!0,onChange:function(s){l(s.currentTarget.value)}})})]})},x=function(s){return s.profile?(0,h.jsxs)("div",{className:p.profileWrapper,children:[(0,h.jsx)("div",{className:p.profileInfoBackground,children:(0,h.jsx)("img",{src:l,alt:""})}),(0,h.jsxs)("div",{className:p.avaDescriptionWrapper,children:[(0,h.jsx)("img",{src:s.profile.photos.small?s.profile.photos.small:c,alt:"no picture"}),(0,h.jsx)("div",{className:p.fullName,children:s.profile.fullName}),(0,h.jsx)(m,{status:s.status,updateUserStatus:s.updateUserStatus})]})]}):(0,h.jsx)(d.x,{})},j=t(1014),v="MyPosts_myPostWrapper__SKDbq",_="MyPosts_posts__hrhUY",g="Post_post__fVFb0",P="Post_likes__XCNpv",S="Post_profileMessage__gKRhz",k=function(s){return(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{src:c,alt:""})}),(0,h.jsx)("div",{className:S,children:s.message}),(0,h.jsxs)("div",{className:P,children:["Likes: ",s.likeCount]})]})})},N=t(6139),b=t(704),U=t(5298),C=t(1117),y=(0,U.D)(10),Z=(0,b.Z)({form:"addMyPostForm"})((function(s){return(0,h.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,h.jsx)("div",{children:(0,h.jsx)(N.Z,{component:C.g,name:"newPostText",placeholder:"Enter your message",cols:40,rows:5,validate:[U.C,y]})}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add post"})})]})})),W=u.memo((function(s){var e=s.posts.map((function(s){return(0,h.jsx)(k,{id:s.id,message:s.message,likeCount:s.likeCount},s.id)}));return(0,h.jsxs)("div",{className:v,children:[(0,h.jsx)("h3",{children:"My posts"}),(0,h.jsx)("div",{children:(0,h.jsx)(Z,{onSubmit:function(e){s.addPost(e.newPostText)}})}),(0,h.jsx)("div",{className:_,children:e})]})})),w=t(2177),I=(0,w.$j)((function(s){return{posts:s.profilePage.posts,profile:s.profilePage.profile,status:s.profilePage.status}}),(function(s){return{addPost:function(e){s((0,j.Pi)(e))}}}))(W),D="Profile_profileWrapper__L+xkM",M=function(s){return(0,h.jsxs)("div",{className:D,children:[(0,h.jsx)(x,{profile:s.profile,status:s.status,updateUserStatus:s.updateUserStatus}),(0,h.jsx)(I,{})]})},B=t(9723),A=t(7781),F=function(s){(0,o.Z)(t,s);var e=(0,n.Z)(t);function t(){return(0,i.Z)(this,t),e.apply(this,arguments)}return(0,a.Z)(t,[{key:"componentDidMount",value:function(){var s=this.props.match.params.userId;s||(s=this.props.id)||this.props.history.push("/login"),this.props.getUserProfile(s),this.props.getUserStatus(s)}},{key:"render",value:function(){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(M,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus}))})}}]),t}(u.Component),T=(0,A.qC)((0,w.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,id:s.auth.id,isAuth:s.auth.isAuth}}),{getUserProfile:j.et,getUserStatus:j.Tq,updateUserStatus:j.OL}),B.EN)(F)},411:function(s,e,t){s.exports=t.p+"static/media/ava.9a8a2bcd8fd92bb61fe2.jpg"},8103:function(s,e,t){s.exports=t.p+"static/media/beach.e01c9e22ee81c5ce7924.jpg"}}]);
//# sourceMappingURL=427.134f8e57.chunk.js.map